CREATE TABLE PARK (ID_PARK INTEGER PRIMARY KEY, NAME VARCHAR(30) NOT NULL);
CREATE TABLE ALLEYA (ID_ALLEYA INTEGER PRIMARY KEY, NAME VARCHAR(30) NOT NULL, ID_PARK INTEGER, FOREIGN KEY(ID_PARK) REFERENCES PARK(ID_PARK) ON UPDATE CASCADE ON DELETE RESTRICT);
CREATE TABLE TREE_ALLEYA (ID_TREE_ALLEYA INTEGER PRIMARY KEY, ID_TREE INTEGER NOT NULL, ID_ALLEYA INTEGER NOT NULL, FOREIGN KEY(ID_TREE) REFERENCES TREE(ID_TREE) ON UPDATE CASCADE ON DELETE CASCADE, FOREIGN KEY(ID_ALLEYA) REFERENCES ALLEYA(ID_ALLEYA) ON UPDATE CASCADE ON DELETE CASCADE);
 CREATE TABLE TREE (ID_TREE INTEGER PRIMARY KEY, ID_KIND INTEGER NOT NULL, PLANT DATE NOT NULL, FOREIGN KEY(ID_KIND) REFERENCES KIND(ID_KIND) ON UPDATE CASCADE ON DELETE RESTRICT);
CREATE TABLE KIND (ID_KIND INTEGER PRIMARY KEY, NAME VARCHAR(30) NOT NULL);
 CREATE TABLE CUT (ID_CUT INTEGER PRIMARY KEY, ID_TREE INTEGER NOT NULL, CUT DATE NOT NULL, FOREIGN KEY(ID_TREE) REFERENCES TREE(ID_TREE) ON UPDATE CASCADE ON DELETE RESTRICT);



INSERT INTO PARK (ID_PARK, NAME) VALUES (1, 'Космический');
INSERT INTO PARK (ID_PARK, NAME) VALUES (2, 'Спортивный');

INSERT INTO ALLEYA (ID_ALLEYA, NAME, ID_PARK) VALUES (1, 'Скоростная', 1);
INSERT INTO ALLEYA (ID_ALLEYA, NAME, ID_PARK) VALUES (2, 'Ракетная', 1);
INSERT INTO ALLEYA (ID_ALLEYA, NAME, ID_PARK) VALUES (3, 'Беговая', 2);
INSERT INTO ALLEYA (ID_ALLEYA, NAME, ID_PARK) VALUES (4, 'Быстрая', 2);
INSERT INTO ALLEYA (ID_ALLEYA, NAME, ID_PARK) VALUES (5, 'Тройная липовая',1);
INSERT INTO ALLEYA (ID_ALLEYA, NAME, ID_PARK) VALUES (6, 'Театральная', 2);

INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (1, 1, 14.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (2, 1, 14.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (3, 2, 15.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (4, 3, 15.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (5, 3, 21.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (6, 4, 23.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (7, 2, 23.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (8, 4, 25.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (9, 4, 15.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (10, 1, 21.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (11, 2, 23.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (12, 1, 23.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (13, 6, 27.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (14, 1, 25.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (15, 1, 15.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (16, 5, 21.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (17, 6, 23.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (18, 3, 23.09);
INSERT INTO TREE (ID_TREE, ID_KIND, PLANT) VALUES (19, 3, 27.09);

INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (1, 1, 1);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (2, 1, 2);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (3, 2, 2);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (4, 3, 2);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (5, 4, 1);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (6, 5, 1);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (7, 6, 2);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (8, 7, 1);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (9, 8, 1);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (10, 9, 1);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (11, 10, 6);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (21, 10, 5);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (12, 11, 5);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (13, 12, 6);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (14, 13, 5);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (15, 14, 3);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (16, 15, 4);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (17, 16, 3);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (18, 17, 4);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (19, 18, 3);
INSERT INTO  TREE_ALLEYA  (ID_TREE_ALLEYA, ID_TREE, ID_ALLEYA) VALUES (20, 19, 4);

INSERT INTO KIND (ID_KIND, NAME) VALUES (1, 'Клен');
INSERT INTO KIND (ID_KIND, NAME) VALUES (2, 'Ясень');
INSERT INTO KIND (ID_KIND, NAME) VALUES (3, 'Береза');
INSERT INTO KIND (ID_KIND, NAME) VALUES (4, 'Дуб');
INSERT INTO KIND (ID_KIND, NAME) VALUES (5, 'Липа');
INSERT INTO KIND (ID_KIND, NAME) VALUES (6, 'Ель');
INSERT INTO KIND (ID_KIND, NAME) VALUES (7, 'Яблоня');
INSERT INTO KIND (ID_KIND, NAME) VALUES (8, 'Ива');
INSERT INTO KIND (ID_KIND, NAME) VALUES (9, 'Тополь');
INSERT INTO KIND (ID_KIND, NAME) VALUES (10, 'Пихта');

INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (1, 30.09, 1);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (2, 30.09, 2);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (3, 1.10, 3);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (4, 1.11, 4);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (5, 1.11, 5);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (6, 1.11, 6);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (7, 1.14, 7);
INSERT INTO CUT (ID_CUT, CUT, ID_TREE) VALUES (8, 10.12, 8);


а) SELECT ALLEYA.NAME FROM ALLEYA JOIN TREE_ALLEYA ON TREE_ALLEYA.ID_ALLEYA = ALLEYA.ID_ALLEYA JOIN TREE ON TREE.ID_TREE=TREE_ALLEYA.ID_TREE JOIN KIND ON KIND.ID_KIND=TREE.ID_KIND WHERE KIND.NAME LIKE 'Ясень';

б)  SELECT TREE_ALLEYA.ID_TREE FROM TREE_ALLEYA JOIN ALLEYA AS A1 ON TREE_ALLEYA.ID_ALLEYA=A1.ID_ALLEYA LEFT JOIN TREE_ALLEYA AS TA1 ON TREE_ALLEYA.ID_TREE=TA1.ID_TREE JOIN ALLEYA AS A2 ON A2.ID_ALLEYA= TA1.ID_ALLEYA WHERE A1.NAME='Театральная' AND A2.NAME='Тройная липовая';


в)  SELECT KIND.NAME FROM KIND LEFT JOIN TREE ON TREE.ID_KIND = KIND.ID_KIND WHERE TREE.ID_TREE IS NULL;
SELECT kind.name FROM tree Right JOIN kind ON TREE.ID_KIND = KIND.ID_KIND WHERE TREE.ID_TREE IS NULL;
